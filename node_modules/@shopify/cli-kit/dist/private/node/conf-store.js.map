{"version":3,"file":"conf-store.js","sourceRoot":"","sources":["../../../src/private/node/conf-store.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,OAAO,EAAE,KAAK,EAAC,MAAM,iBAAiB,CAAA;AAC9C,OAAO,IAAc,MAAM,MAAM,CAAA;AAEjC,OAAO,EAAC,IAAI,EAAS,CAAA;AAMrB,IAAI,SAAuC,CAAA;AAE3C;;;;GAIG;AACH,SAAS,WAAW;IAClB,IAAI,CAAC,SAAS,EAAE;QACd,SAAS,GAAG,IAAI,IAAI,CAAa,EAAC,WAAW,EAAE,iBAAiB,EAAC,CAAC,CAAA;KACnE;IACD,OAAO,SAAS,CAAA;AAClB,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,UAAU,CAAC,SAA2B,WAAW,EAAE;IACjE,KAAK,CAAC,OAAO,CAAA,0BAA0B,CAAC,CAAA;IACxC,OAAO,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;AACnC,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,UAAU,CAAC,OAAe,EAAE,SAA2B,WAAW,EAAE;IAClF,KAAK,CAAC,OAAO,CAAA,0BAA0B,CAAC,CAAA;IACxC,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,OAAO,CAAC,CAAA;AACrC,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,aAAa,CAAC,SAA2B,WAAW,EAAE;IACpE,KAAK,CAAC,OAAO,CAAA,2BAA2B,CAAC,CAAA;IACzC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAA;AAC/B,CAAC","sourcesContent":["import {content, debug} from '../../output.js'\nimport Conf, {Schema} from 'conf'\n\nexport {Conf, Schema}\n\nexport interface ConfSchema {\n  sessionStore: string\n}\n\nlet _instance: Conf<ConfSchema> | undefined\n\n/**\n * CLIKIT Store.\n *\n * @returns CLIKitStore.\n */\nfunction cliKitStore() {\n  if (!_instance) {\n    _instance = new Conf<ConfSchema>({projectName: 'shopify-cli-kit'})\n  }\n  return _instance\n}\n\n/**\n * Get session.\n *\n * @returns Session.\n */\nexport function getSession(config: Conf<ConfSchema> = cliKitStore()): string | undefined {\n  debug(content`Getting session store...`)\n  return config.get('sessionStore')\n}\n\n/**\n * Set session.\n *\n * @param session - Session.\n */\nexport function setSession(session: string, config: Conf<ConfSchema> = cliKitStore()): void {\n  debug(content`Setting session store...`)\n  config.set('sessionStore', session)\n}\n\n/**\n * Remove session.\n */\nexport function removeSession(config: Conf<ConfSchema> = cliKitStore()): void {\n  debug(content`Removing session store...`)\n  config.delete('sessionStore')\n}\n"]}